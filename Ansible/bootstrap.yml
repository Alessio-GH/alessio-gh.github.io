---

- hosts: all
  become: true
  tasks:
  - name: create sudo user
    user:
      name: tizzio
      groups: root

  - name: add ssh key for tizzio
    authorized_key:
      user: tizzio
      key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIL/x1M+b9+d7SzxEeiYcaeOvxc6mXd8X6grz01i1L9lY mele default"
  
  - name: add sudoers file for tizzio
    copy:
      src: sudoer_tizzio
      dest: /etc/sudoers.d/tizzio
      owner: root
      group: root
      mode: 0440
